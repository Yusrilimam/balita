{% extends "base.html" %}
{% block title %}Edit Profil{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 600px;">
    <h2 class="mb-4 text-center">Edit Profil</h2>
    <form method="POST" action="{{ url_for('edit_profil') }}" enctype="multipart/form-data">
        <div class="mb-3 text-center">
            <img src="{{ url_for('static', filename='img/' + (user['photo'] or 'default-profile.png')) }}"
                 alt="Foto Profil"
                 class="profile-photo-preview mb-3"
                 style="width:120px;height:120px;object-fit:cover;border-radius:50%;border:2px solid #ddd;">
            <div class="mt-2">
                <input type="file" class="form-control" name="photo" accept="image/*">
                <div class="form-text">Ukuran foto maksimal 2MB. Format: JPG, PNG.</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="nama_lengkap" class="form-label">Nama Lengkap</label>
            <input type="text" class="form-control" id="nama_lengkap" name="nama_lengkap" value="{{ user['nama_lengkap'] or '' }}" required>
        </div>
        <div class="mb-3">
            <label for="alamat" class="form-label">Alamat</label>
            <input type="text" class="form-control" id="alamat" name="alamat" value="{{ user['alamat'] or '' }}">
        </div>
        <div class="mb-3">
            <label for="tempat_lahir" class="form-label">Tempat Lahir</label>
            <input type="text" class="form-control" id="tempat_lahir" name="tempat_lahir" value="{{ user['tempat_lahir'] or '' }}">
        </div>
        <div class="mb-3">
            <label for="tanggal_lahir" class="form-label">Tanggal Lahir</label>
            <input type="date" class="form-control" id="tanggal_lahir" name="tanggal_lahir" value="{{ user['tanggal_lahir'] or '' }}">
        </div>
        <div class="mb-3">
            <label for="pendidikan" class="form-label">Pendidikan Terakhir</label>
            <input type="text" class="form-control" id="pendidikan" name="pendidikan" value="{{ user['pendidikan'] or '' }}">
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ user['email'] or '' }}">
        </div>
        <button type="submit" class="btn btn-primary w-100">Simpan Perubahan</button>
        <a href="{{ url_for('profile') }}" class="btn btn-secondary w-100 mt-2">Batal</a>
    </form>
</div>
{% endblock %}